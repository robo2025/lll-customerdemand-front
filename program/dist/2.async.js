webpackJsonp([2],{506:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(226),a=n.n(r),s=n(25),u=n.n(s),o=n(98),c=n.n(o),i=n(74),p=n.n(i),l=n(143),f=n.n(l),d=n(99),v=n.n(d),h=n(61),x=n.n(h),m=n(75),w=function(){var t=f()(c.a.mark(function t(e){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=x.a.get("access_token"),t.abrupt("return",v()({method:"get",url:m.f+"/api/users/".concat(e,"/solution_reqs"),headers:{Authorization:n}}).then(function(t){var e=t.status,n=t.statusText;return p.a.resolve(u()({status:e,statusText:n},t.data))}));case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=f()(c.a.mark(function t(e){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=x.a.get("access_token"),t.abrupt("return",v()({method:"post",url:m.f+"/api/solutions",headers:{Authorization:n},data:e}).then(function(t){var e=t.status,n=t.statusText;return p.a.resolve(u()({status:e,statusText:n},t.data))}));case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=f()(c.a.mark(function t(e,n){var r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=x.a.get("access_token"),t.abrupt("return",v()({method:"get",url:m.f+"/api/users/".concat(e,"/solution_reqs/").concat(n),headers:{Authorization:r}}).then(function(t){var e=t.status,n=t.statusText;return p.a.resolve(u()({status:e,statusText:n},t.data))}));case 2:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var t=f()(c.a.mark(function t(e){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=x.a.get("access_token"),t.abrupt("return",v()({method:"delete",url:m.f+"/api/solutions/".concat(e),headers:{Authorization:n}}).then(function(t){var e=t.status,n=t.statusText;return p.a.resolve(u()({status:e,statusText:n},t.data))}));case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();e.default={namespace:"solutions",state:{solutionsList:[],reqSolution:{},res:{code:"",msg:""}},effects:{getMySolutions:c.a.mark(function t(e,n){var r,a,s,u;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.userId,a=n.call,s=n.put,t.next=4,a(w,r);case 4:return u=t.sent,t.next=7,s({type:"saveAll",payload:u});case 7:case"end":return t.stop()}},t,this)}),fetchSolutionDetail:c.a.mark(function t(e,n){var r,a,s,u,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.userId,a=e.reqId,s=n.call,u=n.put,t.next=4,s(k,r,a);case 4:return o=t.sent,t.next=7,u({type:"saveDetail",payload:o});case 7:case"end":return t.stop()}},t,this)}),postSolution:c.a.mark(function t(e,n){var r,a,s,u;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.payload,a=n.call,s=n.put,t.next=4,s({type:"save",response:{rescode:"",msg:""}});case 4:return t.next=6,a(y,r);case 6:return u=t.sent,t.next=9,s({type:"save",response:u});case 9:case"end":return t.stop()}},t,this)}),removeMySolution:c.a.mark(function t(e,n){var r,a,s,u;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.solutionId,a=n.call,s=n.put,t.next=4,a(g,r);case 4:return u=t.sent,t.next=7,s({type:"removeSolution",solutionId:r});case 7:case"end":return t.stop()}},t,this)})},reducers:{save:function(t,e){return u()({},t,{res:{code:e.response.rescode,msg:e.response.msg}})},saveAll:function(t,e){return u()({},t,{solutionsList:[].concat(a()(e.payload.data))})},saveDetail:function(t,e){return u()({},t,{reqSolution:u()({},e.payload.data)})},removeSolution:function(t,e){return u()({},t,{solutionsList:t.solutionsList.filter(function(t){return t.solution_id!==e.solutionId>>0})})}}}}});